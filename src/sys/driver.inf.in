[Version]
Signature = "$WINDOWS NT$"
Class = SCSIAdapter
ClassGuid = {4d36e97b-e325-11ce-bfc1-08002be10318}
CatalogFile.ntx86 = !BaseName!-x86.cat
CatalogFile.ntamd64 = !BaseName!-x64.cat
Provider = %MyCompanyName%

[Manufacturer]
%MyCompanyName% = model,ntx86,ntamd64

[model.ntx86]
%MyDescription% = install,%HardwareId%

[model.ntamd64]
%MyDescription% = install,%HardwareId%

[install.ntx86]
CopyFiles = sys.files.x86,dll.files.x86

[install.ntamd64]
CopyFiles = sys.files.x64,dll.files.x64

[sys.files.x86]
!BaseName!-x86.sys
[dll.files.x86]
!BaseName!-x86.dll

[sys.files.x64]
!BaseName!-x64.sys
[dll.files.x64]
!BaseName!-x64.dll

[install.ntx86.Services]
AddService = !MyProductName!,%SPSVCINST_ASSOCSERVICE%,services.x86

[install.ntamd64.Services]
AddService = !MyProductName!,%SPSVCINST_ASSOCSERVICE%,services.x64

[services.x86]
DisplayName = !MyProductName!
Description = !MyDescription!
ServiceType = %SERVICE_KERNEL_DRIVER%
StartType = %SERVICE_DEMAND_START%
ErrorControl = %SERVICE_ERROR_NORMAL%
ServiceBinary = %12%\!BaseName!-x86.sys

[services.x64]
DisplayName = !MyProductName!
Description = !MyDescription!
ServiceType = %SERVICE_KERNEL_DRIVER%
StartType = %SERVICE_DEMAND_START%
ErrorControl = %SERVICE_ERROR_NORMAL%
ServiceBinary = %12%\!BaseName!-x64.sys

[SourceDisksFiles]
!BaseName!-x86.sys = 1
!BaseName!-x86.dll = 1
!BaseName!-x64.sys = 1
!BaseName!-x64.dll = 1

[SourceDisksNames]
1 = %MyDescription%

[DestinationDirs]
sys.files.x86 = 12
dll.files.x86 = 11
sys.files.x64 = 12
dll.files.x64 = 11

[Strings]
MyProductName = !MyProductName!
MyDescription = !MyDescription!
MyCompanyName = !MyCompanyName!
MyCopyright = !MyCopyright!
MyVersion = !MyVersion!
HardwareId = "root/!BaseName!"

SPSVCINST_ASSOCSERVICE = 0x00000002
SERVICE_KERNEL_DRIVER = 0x00000001
SERVICE_DEMAND_START = 0x3
SERVICE_ERROR_NORMAL = 0x1
